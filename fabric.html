<!DOCTYPE html>
<html>

<body>
  <style type="text/css">
    body {
      background-color: rgb(255, 255, 255);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0;
      min-width: 100vw;
      min-height: 100vh;
    }

    /* canvas {
      border: 1px solid black;
    } */
  </style>

  <canvas id="canvas" width="1080" height="720"></canvas>
  <script type="text/javascript" src="fabric.min.js"></script>
  <script type="text/javascript">
    'use strict';

    (function () {
      fabric.Object.prototype.objectCaching = false;
      var canvas = new fabric.Canvas('canvas');
      canvas.skipOffscreen = false;

      fabric.Image.fromURL('checker.png', function (img) {
        // img.set({ left: 0, top: 0 }).scale(0.2);
        // if image size > modal size, resize
        canvas.setDimensions({ width: img.width, height: img.height });
        canvas.backgroundImage = img;
      });

      canvas.on('mouse:wheel', function (opt) {
        // var delta = opt.e.deltaY;
        // var zoom = canvas.getZoom();
        // zoom = zoom * Math.pow(2, delta * -0.01);
        // // zoom *= 0.999 ** delta;
        // if (zoom > MAX_ZOOM) zoom = MAX_ZOOM;
        // if (zoom < MIN_ZOOM) zoom = MIN_ZOOM;
        // window.document.title = `Zoom ${Math.ceil(zoom * 100)}%`;
        // canvas.zoomToPoint({ x: opt.e.offsetX, y: opt.e.offsetY }, zoom);
        // opt.e.preventDefault();
        // opt.e.stopPropagation();
      });

      canvas.on('mouse:down', function (opt) {
        // var evt = opt.e;
        // if (evt.altKey === true) {
        //   this.isDragging = true;
        //   this.selection = false;
        //   this.lastPosX = evt.clientX;
        //   this.lastPosY = evt.clientY;
        // }
      });

      canvas.on('mouse:move', function (opt) {
        console.log(`${opt.e.layerX}, ${opt.e.layerY}`);
        // if (this.isDragging) {
        //   var e = opt.e;
        //   var vpt = this.viewportTransform;
        //   vpt[4] += e.clientX - this.lastPosX;
        //   vpt[5] += e.clientY - this.lastPosY;
        //   this.requestRenderAll();
        //   this.lastPosX = e.clientX;
        //   this.lastPosY = e.clientY;
        // }
      });

      canvas.on('mouse:up', function (opt) {
        // this.setViewportTransform(this.viewportTransform);
        // this.isDragging = false;
        // this.selection = true;
      });
    })()

  </script>
</body>

</html>